---
source:
  - "[[探秘京东外卖幕后：地图 & 轨迹技术探寻]]"
create: 2025-11-04
---

## 1. 基础地理信息系统 (GIS) 知识

- **地理坐标系统**:
    - **WGS84**: 国际通用的地理坐标标准，GPS 系统使用的就是它，通过经纬度定位。
    - **UTM (通用横轴墨卡托投影)**: 将地球划分为 60 个投影带，在带内计算精确，但跨带计算复杂。
- **投影和坐标变换**:
    - **目的**: 将球体地球表面绘制到平面地图上。
    - **高斯-克吕格投影**: 在我国中低纬度地区应用广泛，能保持形状和角度。
    - **墨卡托投影**: 保持方向不变，是航海图绘制的首选。
- **GIS 软件**:
    - **ArcGIS**: 功能强大全面，商业软件，学习成本高。
    - **QGIS**: 开源免费，扩展性好，适合初学者和预算有限的项目。

## 2. 地图数据格式与处理

常见地图数据格式:

| 格式 | 类型 | 描述 |
| :--- | :--- | :--- |
| **Shapefile** | 矢量 | 由多个文件（.shp, .shx, .dbf 等）组成，存储点、线、面等几何信息及属性。 |
| **GeoJSON** | 矢量 | 基于 JSON 的开放标准格式，轻量，易于在 Web 应用中解析。 |
| **KML** | 矢量 | 基于 XML，常用于 Google Earth 和 Google Maps。 |
| **GeoTIFF** | 栅格 | 带有地理参考信息的 TIFF 图像，常用于存储卫星影像和航拍图。 |

- **数据处理**:
- **导入/导出**: GIS 软件（如 QGIS/ArcGIS）提供图形化界面进行操作。
- **转换**: 可使用 GIS 软件或 **GDAL** (Geospatial Data Abstraction Library) 库进行格式转换。

## 3. GPS 与轨迹数据

- **GPS 技术**:
    - **原理**: 接收设备通过接收至少 4 颗卫星的信号，利用三角测量原理计算出三维位置。
    - **全球系统**: 除了美国的 GPS，还有俄罗斯的 **GLONASS**、欧洲的 **Galileo** 和中国的 **北斗**。
- **轨迹数据处理**:
    - **目的**: 清洗原始数据中的噪声和误差。
    - **常见步骤**:
        1.  **去重**: 移除重复的轨迹点。
        2.  **去异常点**: 通过 Z-score 等统计方法识别并剔除异常值。
        3.  **平滑轨迹**: 使用 **Savitzky-Golay** 等滤波器使轨迹线条更平滑、自然。
    - **工具**: Python 的 `pandas`, `numpy`, `scipy` 库是常用的处理工具。

常用轨迹文件格式:

| 格式 | 描述 |
| :--- | :--- |
| **GPX** | 基于 XML，专门为 GPS 数据设计的格式，包含航点、路线和轨迹。 |
| **KML** | 可用于存储轨迹，并在 Google Earth 等软件中进行可视化。 |
| **GeoJSON** | 可用 `LineString` 类型来表示一条完整的轨迹。 |

## 4. 地图轨迹可视化

- **实现方式**:
    - **GIS 软件 (ArcGIS)**: 功能强大，适合生成高质量的静态地图。
    - **编程语言 (Python)**: 灵活性高，可与数据处理无缝衔接。
        - `matplotlib`: 基础绘图库。
        - `folium`: 可轻松创建交互式 Web 地图。
    - **前端库 (JavaScript)**: 用于创建高性能的动态交互地图。
        - `Leaflet`: 轻量级，API 简洁，适合快速开发。
        - `OpenLayers`: 功能更全面，支持更复杂的操作和数据源。

## 5. 空间分析与路径规划

- **基本空间分析**:
    - **缓冲区分析 (Buffer Analysis)**: 围绕地理要素生成指定距离的区域，用于分析影响范围。
    - **叠置分析 (Overlay Analysis)**: 将多个图层叠加，分析不同地理要素间的空间关系。
- **路径规划算法**:
    - **Dijkstra 算法**: 能够找到两点间的**最短路径**，但在大规模图中效率较低。
    - **A\* 算法**: Dijkstra 的优化版，引入**启发式函数**（预估当前点到终点的距离），搜索效率更高，适用于复杂路网。
- **实现工具**:
    - **ArcGIS**: 内置网络分析工具。
    - **Python**: 使用 `networkx` 库构建图并应用路径规划算法。

## 6. 实时轨迹 vs. 历史轨迹

- **实时轨迹**:
    - **定义**: 当前正在发生的移动轨迹。
    - **实现**: 依赖设备与服务器之间的高频数据传输（如秒级）。
    - **应用**: 打车软件、物流追踪、应急救援。
    - **挑战**: 信号稳定性、定位精度（可通过融合基站、Wi-Fi 定位提升）。
- **历史轨迹**:
    - **定义**: 对过去移动轨迹的记录和存储。
    - **价值**: 为后续分析提供数据支撑，挖掘行为模式。
    - **应用**: 城市交通规划、商圈选址、运动分析。

## 7. 地图轨迹技术最新发展

1.  **智能轨迹计算平台**: 出现集成了 AI 模型的云服务平台，用于实时计算时空信息和评估风险。
2.  **跨界融合**:
    - 与**自动驾驶**结合，提供高精度定位和超视距感知。
    - 与**数字孪生**结合，构建虚拟城市进行交通仿真和调控。
3.  **交通感知大模型**: 融合多源数据，增强全场景感知能力，优化交通管理。
4.  **车道级实时同步**: 实现车道级别的路况信息共享与快速响应。
5.  **高精度地图**: 结合轨迹数据，提供更精准的导航和交通流量预测。