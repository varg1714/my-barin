---
source: https://mp.weixin.qq.com/s/VjJUxTvlLgLHdIbisA0Mxw
create: 2023-11-14 09:02
---
![图片](https://mmbiz.qpic.cn/mmbiz_jpg/Z6bicxIx5naLN5S7KYkSHkiaODm2icJbD15L0PNKh2qPuZ3EzEuVGw3XvibVOhGjS1A6yXa9eSphibk756HjUoCLs1A/640?wx_fmt=jpeg)

阿里妹导读

近期淘天集团秋季 2024 届校园招聘正式启动，预计将发放 2000 多个 offer，其中技术类岗位占比超过 50%。为了方便大家更真实地了解淘天技术的布局和现状，我们策划了「我在淘天做技术」系列，首次全面分享淘天技术进展和创新应用。这是该系列的第 2 篇文章。

每年的双 11 都会吸引亿级消费者、百万商家参与，会场、红包、优惠券，各类玩法目不暇接。作为大促的主阵地，淘天营销技术经过多年大促的历练沉淀，沉淀了丰富的业务能力，支撑了大促、营销频道等各种营销业务场景。本文将为大家介绍下营销技术体系。

一、营销和营销技术

在介绍技术之前，需要先简单了解下业务背景，首先要了解营销。“现代营销学之父”—菲利普 · 科特勒给出的营销定义：“企业识别现有市场需求来确定目标消费人群为其提供服务的一种活动。” 营销本身是个比较宽泛的概念，我们所支持的营销业务主要包括营销活动（整合营销）、效果营销（营销产品）、品牌营销、商家自营销等。上文提到的双 11 大促就是营销活动，像 “年货节”、“春节不打烊”、“618 大促” 这些都是营销活动，它在对应的营销主题下满足多数消费者需要的价值，对于营销手段的系统化的一体式营销，从而形成营销高潮的爆发点的一种营销方式。而营销频道一般是常态化的营销业务，业务长期运营，有固定的流量入口和心智与定位。如聚划算、百亿补贴、淘宝好价、天天特价等。

![](https://mmbiz.qpic.cn/mmbiz_png/OmCbZ5JK30FY9vvhcCU8ZMILohtuSulkKzLc4M7uiaWeSRdgsLZ7qNIuFO58uQOpzw2XWR5ic9icyE8PCBRbfuJzw/640?wx_fmt=png)

组成业务场景的是一系列的产品，包括会场、频道、互动玩法、直播营销组件。

![](https://mmbiz.qpic.cn/mmbiz_png/Z6bicxIx5naLN5S7KYkSHkiaODm2icJbD15MpS7ukxebNjfNibMtu4mdB9I8mc52ZwMlLQIAWajZrzwhtOokLmQNww/640?wx_fmt=png)

营销业务流程可以简单分为两部分，ToB 侧的组织和供给，ToC 侧的表达和转化。

**ToB 侧的组织和供给。**营销作为一个平台心智的业务，平台是业务发起点。运营团队通过招商系统制定平台的招商策略，包括商家、货品、规则、玩法等。例如，他们确定活动的主题、持续时间，以及主打的权益和玩法等。商家根据要求结合自身的经营需求，完成商品的提报和信息补充。提报的商品和玩法再经过选品系统的圈选，对供给端和消费端进行精准匹配。这里就形成了招商选品的领域。

**ToC 侧的表达和转化。**供给准备好了以后，接下来是如何向消费者触达和呈现。  
对于承接有比较多的形式，其中比较常见的是各种各样的会场、频道页、直播等，我们将它们抽象为营销场。针对这些营销场，平台方会设计一系列的内容组织方式和流量机制，一方面给消费者展示最优质的商品和最好的玩法，另一方面帮助商家发挥自主运营能力，提升服务的同时获得更好的流量。最终，投放系统基于运营策略和算法将商品和玩法的呈现方式传达给消费者。这里构成了搭建和投放的领域。  

最后一步是最关键的转化阶段，其中最核心的是让消费者清晰知晓优惠。在商品详情、购物车和下单等基本环节中，一方面通过权益发放过程让消费者产生强烈的体验感，另一方面通过导购和交易链路透露营销利益信息，让消费者清晰地感知到权益的构成，从而形成优惠的体验感，促进成交的达成。

![](https://mmbiz.qpic.cn/mmbiz_png/OmCbZ5JK30FY9vvhcCU8ZMILohtuSulkHxxZicq0Ke100tcZNOT31SGanUBrhzHc3CzVGopFNDBAC3nmiaYtIHhA/640?wx_fmt=png)

二、我们会遇到怎么样的问题和挑战

通过简单的业务介绍，能对营销业务有个基本的了解，接下来通过一些例子感受下我们需要应对的技术挑战。

*   每年双 11 大促都有近百万的商家参与其中，涉及千万的商品报名。这里面会涉及到信息提交、规则校验、活动规则。从运营规则编写、商家公告展示到最后系统执行，如何保持文字表达和执行逻辑的统一？每次活动的规则和要求繁多，涉及到非常多的下游和数据指标，数据的准确性和系统校验的速度能否提升？
    
*   每次大促，商家都要提供大量的素材，作为海量大促商品、玩法、权益在消费者导购链路进行信息表达的核心要素。素材制作非常耗费精力，大商家会有自己专业的设计师团队，很多小的商家都是靠自己 PS。如何通过技术手段降低商家素材制作维护的成本？
    
*   大促期间包含了非常多的业务数据和业务状态，包括素材、优惠、玩法、运费险、包邮等等。营销商品作为营销链路上的数据分发的集散中心，是各营销执行链路的供给源头，是协同和统一的关键，如何保障几千万商品在大促周期众多上下游系统中数据一致性？
    
*   用户拿到了消费券或大额的满减优惠，如何帮助用户快速找到商品完成凑单，享受最佳的优惠？
    
*   商品库存变化、商家优惠调整、商品限购等因素都会影响最终消费到手优惠的价格，这里最重要的保证价格的 “所见即所得”。这里不仅仅是首页、搜索、详情、购物车、下单等看到的系统文字表达的价格，包括商家主图表达的价格。如何保障价格表达一致性？
    
*   大促前后，因为商业上各种原因，商品活动价格可能会发生波动，平台和商家为用户提供了价保服务。面对海量的订单，如何准确又快速的计算价格波动，及时把差价退还给消费者。
    
*   某年春晚期间主持人口播到淘宝里面抽奖，面临亿级别的用户规模，每秒超过百万的用户同时参与抽奖。如何保障高并发下的用户抽奖的稳定性？这个极热点高并发写，不是简单的单一技术问题，整个架构都会受到挑战，甚至用来提供系统保护的限流系统都受到了巨大的挑战。
    
*   会场作为大促的专属的阵地，为用户呈现大促要买什么，玩什么。会场是购物页面的集合，以页面导购的形式组织在一起的页面群。近年来大促会场展现的内容越来越丰富，不只是商品图片价格、还有短视频、直播、互动玩法等。但是用户使用的并不是全都是高端的设备，对于会场这种负责的页面渲染时，会遇到很大的挑战。面向中低端设备的用户如何能提高页面打开的速度，提升页面流量的流畅性，也是我们需要解决的命题。
    
*   3D&XR 的互动场景给用户带来身临其境的沉浸式体验，有趣又生动。但 3D&XR 制作一般需要比较长的周期和成本，而热点营销和事件营销窗口期非常宝贵。我们希望把一次性制作的玩法，通过产品化的方式沉淀起来。但这里最难的是需要理解 2D/3D/XR 的技术，并结合营销互动场景当前和未来的诉求，找到适合方案。
    

上面的是常见业务诉求和问题，都不是单一的技术场景（例如高并发、分布式事务等），很多时候都需要在局限业务条件下的寻求最优的解决方案。结合营销业务的特点，尝试归纳下技术挑战和要求。

**首先是营销业务理解和抽象。**营销业务模式丰富，时效性较强。从场景上看，无论是线上还是线下，营销活动可以在各种场景中展开，如电商平台、线下商场、社交媒体等。从节奏上看，无论是传统节日还是时事热点，都是一个机会点，业务策略可能会及时灵活调整。这个特点对于技术最核心的一个诉求就是交付效率，当业务有个创意的时候能否快速落地，赢得宝贵的时间窗口。因此，产品和技术架构必须建立在稳定而强大的基础平台上，并具备快速延展性。这里对业务理解、领域抽象到架构设计有非常高的要求。

**其次，是高可用性。**营销业务本身就是为了某个特定的营销场景或主题组织的，因此天然具备爆发性，甚至可能远超下单峰值。例如，前文提到的春晚抽奖玩法，每秒超过百万用户参与。此外，营销活动本身也具有极高的关注度，一旦出现问题，就会造成很大的负面影响。因此，高可用性是一个非常重要的技术挑战。

**另外，智能化也是一个关键点。**营销业务流程复杂，涉及多个角色的参与，其中有很多系统间的交互。为了降低人工投入成本，提高业务效率和效能，产品、技术和算法需要有效结合起来。

**最后，前沿技术的探索是不可或缺的。**在数字化时代，营销创意的落地非常依赖技术的可行性。比如，AR、VR 和智能设备等新兴技术正在改变营销方式和消费者体验。可以利用这些技术来打造更具创意和互动性的营销活动。

三、我们是如何去解问题的

**3.1 业务高效支撑**

针对业务复杂性和迭代效率的要求，平台化的架构起了关键的作用。整个营销支撑体系进行了合理的领域划分，上面提到的几个业务域，都形成了各自的平台体系，例如招商平台、投放平台、权益平台、搭建平台等。从大的建设思路去看，平台系统核心通过领域模型标准化和业务流程的抽象，实现 80%~90% 的系统功能的复用，同时架构上实现单一能力点的扩展以提高迭代效率。

所以平台上面新增的每个功能大部分都能沉淀下来，类似场景的需求就像遵循 “摩尔定律” 一样，支持得越来越快。

![](https://mmbiz.qpic.cn/mmbiz_png/OmCbZ5JK30FY9vvhcCU8ZMILohtuSulk0xVgP7wGV0cCliaIajUzIb912g7qJRpnQlZkaQ21icd6kUoiaL1dQlicoQ/640?wx_fmt=png)

当然平台化架构只是基础，在此之上技术上还在做进一步演进和探索。

我们发现虽然实现单一能力点的扩展，但是部署、发布过程还是要跟着这个系统一起进行，功能变多了以后，系统也变得臃肿起来。为此，我们参考了 docker 容器的方案，实现了一套 JVM 级别轻量级容器解决方案，在代码层面把平台基础功能和业务定制扩展功能分开，扩展功能可以以插件形式实现热部署。这个方案可以帮助迭代和维护效率进一步提高，让调试 / 部署的耗时减少 10 倍以上。

![](https://mmbiz.qpic.cn/mmbiz_png/OmCbZ5JK30FY9vvhcCU8ZMILohtuSulkql0WXXpTy7JsM1T1Akp09TsG1FlRaNNvibC2POVL4VDsrh0Z3PlZBRQ/640?wx_fmt=png)

  
另外，在某些特定领域，我们还在进一步探索低代码的方案。例如大促会场模块的实现，前端工程师以往大部分的时间都是做设计稿的还原，我们实现了一套设计稿智能生成前端代码的平台（imgcook）[01]，19 年双 11 的会场模块 79.43% 的线上代码由 imgcook 一键智能生成。

![](https://mmbiz.qpic.cn/mmbiz_png/OmCbZ5JK30FY9vvhcCU8ZMILohtuSulkCYEUzYJgYdxlFVMSxoeW7Lu0Un0k7uP2uRSXZToTykLwd6EJcwqh4w/640?wx_fmt=png)

去年在 “低代码生产” 进一步向 “无代码生产” 做进一步探索，通过可视化配置的方式实现会场模块编排和生产，22 年双 11 已经有 30% 的新会场模块需求通过无代码生成方式实现。

**3.2 高可用**

高可用针对单一场景都是有成熟解法的，但是结合业务场景可能就会有不同的方案。

在营销中高并发读的场景，主要是会场、频道等页面导购场景。这种场景面向都是用户端的流量，很多时候流量都是尖刺型的，在峰值瞬间比次峰值甚至会高几倍。所以这里设计上主要是避免预期外洪峰流量的影响，这里业务容灾兜底方案就比较重要了。目前投放系统又是多级限流做到自我保护，基于多级兜底机制保障保底业务表现。最悲观的情况，整个系统都挂了还是能保证最兜底的业务表现。在 21 年春晚的时候，脉冲流量远超预期，超过 40% 的请求都被限流了，但是用户端页面透出依然是正常的，也不影响用户进一步抽奖的动作。

![](https://mmbiz.qpic.cn/mmbiz_png/OmCbZ5JK30FY9vvhcCU8ZMILohtuSulkxUQmiaiawFQiafBDs7X8bQGTx1jBc39RrNX7vpQic48TdupkkcUpwMvmZQ/640?wx_fmt=png)

说到抽奖，是一个典型的高并发写场景。这个场景类似于秒杀，在某个时刻会有百万到千万级的的用户同一时间涌入系统争抢。而权益本身是有限的，就要求需要在极短的时间内对红包的数量做正确的扣减，比如每秒扣减 100w 次，这个对现在任何系统、机器都是要突破物理瓶颈的。

如何既能保证用户顺利抽奖又不超发就成为一项非常困难的事情。

针对这种场景，业界里面比较成熟的方案是分布式库存扣减，即将库存提前分配到多个分桶中，不同用户路由到不同分桶进行扣减。但是在营销的场景中，常规的分桶方案会引入其他问题，包括分桶数的确定，分桶碎片问题，分桶库存回收问题等等。例如业务预算剩余 3 块钱分了 10 个桶，每个桶 3 毛钱，这时业务要发 1 元是无法发放出去的，这对调用方会带来非常大的业务问题（有预算却永远发不出去）。

因此在权益系统里面，针对业界常规的分桶方案进行了一个升级，实现了一套渐进式分桶的方案。库存架构上有一个主桶和多个分桶，根据业务状态渐进式从主桶中把库存分配到分桶中，而非一次性全部分配出去。这样既能解决高并发写带来的热点问题，又能规避方案引入带来的业务和运维问题。

![](https://mmbiz.qpic.cn/mmbiz_png/OmCbZ5JK30FY9vvhcCU8ZMILohtuSulkT77Brib3ibzgYnQ2I7H3Irl3W9wuydzaCnCulJJpUpJEetAJPO5uFX1w/640?wx_fmt=png)

上面是两个比较典型场景的高可用设计，很多时候都需要基于业务背景的考量去寻求最佳的解决方案。

**3.3 数据化 & 智能化**

数据化 & 智能化的概念在 13 年业界就已经提出了，我们在 13 年已经开始做摸索，主要是优化业务流程，降低人工投入成本，提高业务效率和效能。目前有两种形式。

**一种是数据辅助运营。**算法根据业务经验，基于一定的业务目标构建出一系列的算法模型。产品技术侧将这些算法模型应用到业务流程里面，辅助运营进行业务决策。例如活动审批、商品圈品、权益投放等等。在过程中，结合运营行为和业务结果形成正负反馈，不断迭代优化模型结果。通过这样的单个业务节点的数据算法赋能，运营的个人经验能够形成了算法、产品维度的系统沉淀，不断提升业务效率和结果。

**一种是自动化运营。**在上一种方式的基础上进一步探索，将数据和算法的能力扩展到全流程，由算法和产品规则驱动整个流程自动化运转。

以下是以营销频道招商为例简单介绍下数据化运营是如何实现的。

首先运营定义出营销频道的业务目标，数据算法基于消费者需求和行业洞察，根据业务服务的人群和业务目标，智能构建业务的品类规划。

运营确认和修正后，发布招商活动入口。

商家报名时提交营销方案（包括商品、权益、素材、意向时间等）。

报名的商品经过人工和算法审核进入入围池，智能排期系统以品规为依据，通过数据模型进行择优，再根据业务目标、商家意愿度因素，通过排期算法模型自动产出排期结果。

最后经商家确认后，完成排期确认最终到用户端生效。最后，在营销产品正式售卖结束后，整体运营效果，反馈到算法品规、算法审核、算法排期等环节形成反馈链路。  
相比传统链路，数据化的链路释放了 60% 以上的运营精力，另外在供给上也更加稳定，提升了业务效果。  

![](https://mmbiz.qpic.cn/mmbiz_png/OmCbZ5JK30FY9vvhcCU8ZMILohtuSulkgpc5zUhd3vIMicXuTN5AyqxRiahLtZQ3ekawn51goZW68PeG5ibZMj2vQ/640?wx_fmt=png)

**3.4 前沿技术探索**

关于前沿技术探索，我们更多的是关注与业务的结合点。

品牌营销、事件营销中有很多互动玩法的场景，用 3D 场景去承接能获得更好的效果。面对 3D 场景研发成本和周期长的问题，我们把互动玩法抽象成几种类似场景，例如品牌虚拟空间，虚拟形象养成。针对特定的场景，进一步细粒度的抽象出空间、组件和素材。再结合 3D 底层渲染引擎的规范，实现 3D 场景的构建。这跟上面提到的平台化抽象的思路类似，但是不同的是需要对 3D 建模和 3D 引擎有比较深入的理解，才能实现业务侧的编排。  

![](https://mmbiz.qpic.cn/mmbiz_png/OmCbZ5JK30FY9vvhcCU8ZMILohtuSulkeqUKicDdwlxx09NMx5Nm0S7NkLSnOHkXvHM6bDYSpgBlEiaJicrWYpyGA/640?wx_fmt=png)

  
而本轮 AI 技术爆发，我们看到了新技术在营销场景大量应用的潜力，也开始做一些尝试。

在商家素材提交场景中，为了适配因多个导购场景需要产生的多种图片尺寸规范。针对这种场景，我们在素材中心引入了 AIGC 的技术，实现了图片的智能剪裁。商家只需要提供一个图片素材，系统会自动帮助他们生产多种图片尺寸，目前仍在灰度和调优中。  

![](https://mmbiz.qpic.cn/mmbiz_png/OmCbZ5JK30FY9vvhcCU8ZMILohtuSulkNLDbibQS5Zy7ic43LfHpwab6rItm47MDxIn1cuv9TTqojElaxw44ict3Q/640?wx_fmt=png)

  
另外在今年造物节，我们基于 AIGC 技术为用户带来更有新鲜感、创造性的营销互动玩法。  

![](https://mmbiz.qpic.cn/mmbiz_png/OmCbZ5JK30FY9vvhcCU8ZMILohtuSulkMjwXFlg2pe4ZNM1iaQbe8Yicyh9mRUdwezLof4nW9KfcFyGp0SEJbZAQ/640?wx_fmt=png)

四、下一步做什么？

最后提到 AI 技术应用，上面提到的只是一些探索，只是敲门砖，营销场景中有大量应用机会。

*   **从商家角度**，仍然有很多环节靠 “人” 驱动的，上面提到素材制作也仅仅是解决了多尺寸素材的问题，像多场景图生产、店铺封面等制作仍然需要去突破。
    
*   **从用户角度**，原来用户需求的表达，都是基于货相关的。而大模型突破了这层的限制，可以承接用户自然语言表达的需求，从现在的个性化到定制化。我们有可能突破现有的场的交互形式的产品，实现真正面向每个人的营销场，带来转化和复购大幅提高。
    
*   **从运营角度**，更精准的用户意图理解、更宽泛的货和内容理解，意味着可以更高效地进行供需匹配。原有的数据辅助运营体系有可能进一步突破。
    

同时，用户体验依然是关键。

结合商业策略升级现有的产品链路，让业务可以提供更多的好货好价；通过技术架构层面的升级，让用户更清晰有效地感受到价格优惠。例如通过导购、交易等全链路价格表达架构升级，进一步提升价格一致性、确定性和表达方式。

最后，我们还会持续关注业务效率的提升，实现成本的降低和效率的提高。例如，我们上文提到的会场模块的 “无代码生产”、大促自动化和 3D 互动玩法搭建等方面会进一步升级和完善，覆盖更多的业务场景。

欢迎加入

以上就是营销技术的简单介绍，由于篇幅有限，很多细节没法详细说明。如果你对上面业务场景和技术问题感兴趣，希望在评论区和我们做进一步交流，也更希望邀请感兴趣的技术同学们加入我们，一起参与建设和创造新商业的前沿阵地。  

感兴趣的同学们可以直接投简历到这个邮箱：xiaofeng.zyj@taobao.com 【24 小时内回复，急速推进面试】  

**参考文献：**

[01] Imgcook  

https://www.imgcook.com/docs/simple-example

**欢迎加入【阿里云开发者公众号】读者群**

这是一个专门面向 “阿里云开发者” 公众号的读者交流空间

💡 在这里你可以探讨技术和实践，我们也会定期发布群福利和活动～

欢迎扫码或者添加微信：argentinaliu 加入我们👇

![图片](https://mmbiz.qpic.cn/mmbiz_jpg/Z6bicxIx5naKibhibIwPMuzfcWiaPEcHyg7SI3fdWLdg5xHjRaJdkuFYRvEbzuXGEEZkYqictgNqicHz1BTo2VAn0xJQ/640?wx_fmt=jpeg)